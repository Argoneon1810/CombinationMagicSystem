프로젝트 생성일: 2023/05/11

# 요약
이 프로젝트는 게임에서 하나의 완성된 마법을 사용하는 것이 아니라 마법의 `구성자`만을 제공하여 제한된 조합 규모에 따라 다른 모습을 갖추게끔 구현함으로써 사용자가 자유롭게 마법을 만들어 사용하는 것을 목표로 합니다.

완성된 마법이라고 함은 대표적으로 \<파이어볼\> 등이 있습니다.

이 프로젝트는 `형상화: 구`, `투사체화: 추진력 n`, `속성화: 화염`의 구성자로 나누어 제공하고, 플레이어가 이것들을 조합했을 때 \<파이어볼\>이 이루어지게 됩니다.

# 구성자
1. 강체화
    - 마법에 강체물리가 적용
	- `구`, `원뿔`, `큐브` 등 기본 도형이 주어집니다.
	- 기본 도형 역시 수집해야 합니다.
	- `1슬롯` 마법입니다.
1. 투사체화
	- 부여한 마력랑만큼 `추진력`을 얻습니다.
	- 강체화가 미리 적용되어 있어야 합니다.
	- `1슬롯` 마법입니다.
1. 속성화
	- `화염`, `전격`, `염동` 등의 속성이 주어집니다.
	- 마법에 `속성피해`가 추가됩니다. 확률적으로 `속성 상태이상`이 부여될 수 있습니다.
	- 각 속성 역시 수집해야 합니다.
	- `1슬롯` 마법입니다.
1. 캡슐화
	- 마법의 등급에 따라 `캡슐화 슬롯`이 제공됩니다. 이 안에 담긴 마법은 마법의 등급에 따라 슬롯 개수를 `압축`합니다.
	- `슬롯 개수`가 많거나 `압축률`이 높을수록 희귀합니다.
	- 중첩 캡슐화는 불가능합니다. 캡슐화 안에 캡슐화 마법이 들어갈 수는 있지만, 슬롯 압축률이 적용되지 않습니다.
	- 예:
		- `5슬롯 0.5배율 캡슐화 (A)`가 적용된 마법을 사용해 `2.5슬롯` 취급을 받는 마법이 다른 `5슬롯 0.5배율 캡슐화 (B)` 안에 들어간 경우 B는 A가 차지한 `2.5슬롯`은 압축하지 못하고 나머지 `2.5슬롯`만 압축해 총 `2.5 + 1.25 = 3.75` 슬롯 마법이 됩니다.
1. 충전
	- 인챈트 전용 구성자입니다.
	- 마력 소모 없이 스킬을 1회 격발할 수 있습니다.
	- `1슬롯` 마법입니다.
1. 강화
	- 메모라이즈 전용 구성자입니다.
	- `강화율`만큼 `마법의 피해량`이, `강화율 * 감소율` 만큼 `마력 소모량`이 증가합니다.
	- `강화율`이 높고 `감소율`이 낮을수록 희귀합니다.
1. 인챈트
	- 사물 부여용 최상위 슬롯입니다.
	- 사물의 등급이 충분한 경우 사물에 마법을 저장해 두고 사용할 수 있습니다.
	- 예:
		- `철검`이 `5슬롯`까지 부여가 가능하다고 할 때 `5슬롯 인챈트` 마법을 알고 있다면 이 철검에 `5슬롯`어치 마법을 부여할 수 있습니다.
1. 메모라이즈
	- 단축키 지정용 최상위 슬롯입니다.
	- 기본적으로 `3슬롯 메모라이즈`가 제공됩니다. 성장함에 따라 상위의 메모라이즈를 습득할 수 있습니다.

# 연구
플레이어가 시간을 투자하여 마법연구를 시킬 수 있습니다.

## 랜덤연구
- 어떤 마법이 나올지 알 수 없습니다.
- 하위 마법이 나올 확률이 높고, 이미 알고있는 마법이 나올수도 있습니다.
- 시간이 오래 걸립니다.

## 지정연구
- 지정한 마법의 상위 마법을 획득할 수 있습니다.
- 높은 등급의 마법을 얻고자 할수록 시간이 오래 걸립니다.
- 실패율이 높습니다.

# 스탯
- 침착 Calm
	- 사용하는 마법의 피해량 최대값이 1포인트증가합니다.
	- 연구 실패율을 1포인트 감소시킵니다.
- 확신 Certainty
	- 사용하는 마법의 피해량 최소값이 1포인트 증가합니다.
	- 연구 시간을 3포인트 감소시키지만 실패율을 2포인트 증가시킵니다.
- 창의력 Creativity
	- 사용하는 마법의 피해량 랜덤계수 크기를 2포인트 증가시킵니다.
	- 연구 시간을 2포인트 감소시키지만 실패율을 1포인트 증가시킵니다.
- 의심 Doubt
	- 사용하는 마법의 피해량 랜덤계수 크기를 2포인트 감소시킵니다.
	- 연구 시간을 1포인트 증가시키지만 실패율을 2포인트 감소시킵니다.
- 통찰 Insight
	- 사용하는 마법의 마력소모량을 1포인트 줄입니다.
	- 연구 시간을 1포인트 감소시킵니다.

# 구현 절차
## 등록
1. 플레이어가 어떤 `마법 구성체`를 만들기로 결정한다 (`어떤 팝업 (?)`에서 `+ 버튼` 따위를 클릭)
2. `구성체 생성 창` 등이 표시되어 최상단 유닛인 `메모라이즈`를 제공한다
	- 1 단계에서 `드롭다운 메뉴` 따위를 통해 `메모라이즈` 유닛 크기를 지정해야 하게 해야 할 수 있다
3. `메모라이즈` 슬롯에 넣고자 하는 마법을 추가한다.
	- `Wave Funcion Collapse` 원리를 이용하여 구성자가 추가되면 앞으로 추가할 수 있는 구성자와 추가할 수 없는 구성자를 자동으로 걸러낸다.
	- `코스트 오버`가 아니고 조합 원리가 어긋나지 않았다면 최종 구성체가 아무리 쓸모없는 마법이 되더라도 추가가 가능해야 한다.
	- 예:
		1. `투사체화` 구성자는 `강체화` 구성자를 반드시 필요.
		2. 따라서 `투사체화` 구성자를 슬롯에 집어넣으면 슬롯이 허락하는 한 `강체화` 구성자를 자동으로 투입.
		3. 만약 `강체화`를 추가할 슬롯이 부족한 경우 `구성체 저장 불가` 상태를 표시.
4. 플레이어가 구성을 종료하고 싶을 때 `구성체 저장 불가` 상태가 아니라면 구성체를 저장.
5. 저장한 구성체는 별도의 `스킬 슬롯` (**단축키 아님**)에 저장되고, 간략한 설명이나 이름을 추가할 수 있다.
6. `스킬 슬롯`에서 단축키 등록을 진행할 수 있다.

## 사용
### 단축 사용
- 단축키에 등록해 둔 마법은 단축키를 조작하여 사용할 수 있다.

### 인스턴트 사용
- \[Ctrl+i\] *(임시)* 따위를 눌러 `인스턴트 마법 모드`에 진입할 수 있다.
- `인스턴트 마법 모드`에 진입하면 \[ESC\]로 모드를 탈출하거나, 숫자 입력 후 \[Enter\]를 눌러 사용할 수 있다.